diff --git a/src/main/java/finalforeach/cosmicreach/world/Chunk.java b/src/main/java/finalforeach/cosmicreach/world/Chunk.java
index 6a98deb..08f878d 100644
--- a/src/main/java/finalforeach/cosmicreach/world/Chunk.java
+++ b/src/main/java/finalforeach/cosmicreach/world/Chunk.java
@@ -109,13 +109,12 @@ public class Chunk implements ISavedChunk<BlockState> {
          return 4096;
       } else {
          LayeredBlockData<BlockState> layered = (LayeredBlockData)numBlocksPerLayer;
-         int numBlocksPerLayer = 256;
          int max = 4096;
 
          for(int l = 15; l >= 0; --l) {
             IBlockLayer<BlockState> layer = layered.getLayer(l);
             if (layer instanceof BlockSingleLayer s) {
-               BlockState block = s.blockValue;
+               BlockState block = (BlockState) s.blockValue;
                if (!block.hasEmptyModel()) {
                   break;
                }
